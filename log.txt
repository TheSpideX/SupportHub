client:743 [vite] connecting...
client:866 [vite] connected.
logger.ts:137 [storage.utils.ts] Storage type localStorage available: true {}
logger.ts:137 [storage.utils.ts] Storage type sessionStorage available: true {}
logger.ts:137 [storage.utils.ts] Storage type cookie available: true {}
logger.ts:137 [TokenService.ts?t=1742749304936] TokenService initialized with refresh threshold: 300s, heartbeat: 30s {}
logger.ts:127 [TokenService.ts?t=1742749304936] Token existence check {hasFlag: false, cookies: {…}}
logger.ts:137 [TokenService.ts?t=1742749304936] TokenService initialized in standby mode (no authenticated user) {}
logger.ts:137 [TokenService.ts?t=1742749304936] Created new TokenService instance {}
logger.ts:137 [SessionService.ts?t=1742749304936] Cross-tab communication initialized for SessionService {}
logger.ts:137 [SessionService.ts?t=1742749304936] SessionService initialized {}
logger.ts:127 [TokenService.ts?t=1742749304936] Using existing TokenService instance {}
logger.ts:137 [auth/init][init.ts?t=1742749304936] Initializing authentication system {component: 'auth/init'}
logger.ts:127 [TokenService.ts?t=1742749304936] TokenService already initialized, returning existing instance {}
logger.ts:137 [SecurityService.ts?t=1742749304936] Security context initialized {}
logger.ts:137 [SecurityService.ts?t=1742749304936] Device fingerprint generated {}
logger.ts:137 [SecurityService.ts?t=1742749304936] SecurityService initialized {}
logger.ts:137 [SessionService.ts?t=1742749304936] Cross-tab communication initialized for SessionService {}
logger.ts:137 [SessionService.ts?t=1742749304936] SessionService initialized {}
logger.ts:127 [AuthService.ts?t=1742749304936] Cross-tab communication initialized for AuthService {}
logger.ts:127 [TokenService.ts?t=1742749304936] Token existence check {hasFlag: false, cookies: {…}}
logger.ts:137 [AuthService.ts?t=1742749304936] AuthService initialized {}
logger.ts:127 [AuthService.ts?t=1742749304936] Cross-tab communication already initialized for AuthService {}
logger.ts:137 [TokenService.ts?t=1742749304936] CSRF protection initialized {}
logger.ts:127 [TokenService.ts?t=1742749304936] Token existence check {hasFlag: false, cookies: {…}}
logger.ts:127 [useAuth][useAuth.ts?t=1742749304936] useAuth hook called {component: 'useAuth', isAuthenticated: '[REDACTED]', isLoading: true, path: '/login'}
logger.ts:137 [LoginPage][LoginPage.tsx?t=1742749304936] LoginPage rendered with detailed auth state {component: 'LoginPage', hookIsAuthenticated: '[REDACTED]', reduxIsAuthenticated: '[REDACTED]', reduxIsInitialized: false, reduxUser: 'null', …}
logger.ts:127 [useAuth][useAuth.ts?t=1742749304936] useAuth hook called {component: 'useAuth', isAuthenticated: '[REDACTED]', isLoading: true, path: '/login'}
logger.ts:137 [LoginPage][LoginPage.tsx?t=1742749304936] LoginPage rendered with detailed auth state {component: 'LoginPage', hookIsAuthenticated: '[REDACTED]', reduxIsAuthenticated: '[REDACTED]', reduxIsInitialized: false, reduxUser: 'null', …}
logger.ts:127 [useAuth][useAuth.ts?t=1742749304936] useAuth hook called {component: 'useAuth', isAuthenticated: '[REDACTED]', isLoading: true, path: '/login'}
logger.ts:127 [useAuth][useAuth.ts?t=1742749304936] useAuth hook called {component: 'useAuth', isAuthenticated: '[REDACTED]', isLoading: true, path: '/login'}
logger.ts:137 [LoginPage][LoginPage.tsx?t=1742749304936] LoginPage authentication check effect with detailed state {component: 'LoginPage', hookIsAuthenticated: '[REDACTED]', reduxIsAuthenticated: '[REDACTED]', reduxIsInitialized: false, from: '/dashboard'}
logger.ts:127 [LoginPage][LoginPage.tsx?t=1742749304936] Direct auth service state check {component: 'LoginPage', serviceIsAuthenticated: '[REDACTED]', serviceHasUser: false, serviceUserRole: undefined}
logger.ts:127 [LoginPage][LoginPage.tsx?t=1742749304936] Auth state changed in LoginPage {component: 'LoginPage', hookIsAuthenticated: '[REDACTED]', reduxIsAuthenticated: '[REDACTED]', reduxIsInitialized: false, reduxUser: 'null', …}
logger.ts:127 [LoginPage][LoginPage.tsx?t=1742749304936] Direct auth service state check {component: 'LoginPage', serviceIsAuthenticated: '[REDACTED]', serviceHasUser: false, serviceUserRole: undefined}
logger.ts:137 [App][App.tsx?t=1742749304936] Starting auth initialization (attempt #1) {component: 'App'}
logger.ts:137 [AuthService.ts?t=1742749304936] Initializing auth service and checking for existing session {}
logger.ts:137 [AuthService.ts?t=1742749304936] Cookie check: No auth cookies found {}
logger.ts:137 [AuthService.ts?t=1742749304936] Attempting to validate session with backend {}
logger.ts:127 [TokenService.ts?t=1742749304936] Token existence check {hasFlag: false, cookies: {…}}
logger.ts:137 [AuthService.ts?t=1742749304936] No valid session found, initializing as unauthenticated {}
logger.ts:127 [AuthService.ts?t=1742749304936] Auth state updated {isAuthenticated: '[REDACTED]'}
logger.ts:137 [LoginPage][LoginPage.tsx?t=1742749304936] LoginPage authentication check effect with detailed state {component: 'LoginPage', hookIsAuthenticated: '[REDACTED]', reduxIsAuthenticated: '[REDACTED]', reduxIsInitialized: false, from: '/dashboard'}
logger.ts:127 [LoginPage][LoginPage.tsx?t=1742749304936] Direct auth service state check {component: 'LoginPage', serviceIsAuthenticated: '[REDACTED]', serviceHasUser: false, serviceUserRole: undefined}
logger.ts:127 [LoginPage][LoginPage.tsx?t=1742749304936] Auth state changed in LoginPage {component: 'LoginPage', hookIsAuthenticated: '[REDACTED]', reduxIsAuthenticated: '[REDACTED]', reduxIsInitialized: false, reduxUser: 'null', …}
logger.ts:127 [LoginPage][LoginPage.tsx?t=1742749304936] Direct auth service state check {component: 'LoginPage', serviceIsAuthenticated: '[REDACTED]', serviceHasUser: false, serviceUserRole: undefined}
logger.ts:127 [App][App.tsx?t=1742749304936] Auth initialization already triggered, skipping {component: 'App'}
logger.ts:137 [App][App.tsx?t=1742749304936] No active session found, user is not authenticated {component: 'App'}
logger.ts:127 [authSlice][authSlice.ts] Auth state initialized in Redux {component: 'authSlice', isInitialized: true}
logger.ts:137 [App][App.tsx?t=1742749304936] Auth initialized successfully {component: 'App'}
logger.ts:127 [useAuth][useAuth.ts?t=1742749304936] useAuth hook called {component: 'useAuth', isAuthenticated: '[REDACTED]', isLoading: false, path: '/login'}
logger.ts:137 [LoginPage][LoginPage.tsx?t=1742749304936] LoginPage rendered with detailed auth state {component: 'LoginPage', hookIsAuthenticated: '[REDACTED]', reduxIsAuthenticated: '[REDACTED]', reduxIsInitialized: true, reduxUser: 'null', …}
logger.ts:127 [useAuth][useAuth.ts?t=1742749304936] useAuth hook called {component: 'useAuth', isAuthenticated: '[REDACTED]', isLoading: false, path: '/login'}
logger.ts:137 [LoginPage][LoginPage.tsx?t=1742749304936] LoginPage rendered with detailed auth state {component: 'LoginPage', hookIsAuthenticated: '[REDACTED]', reduxIsAuthenticated: '[REDACTED]', reduxIsInitialized: true, reduxUser: 'null', …}
logger.ts:127 [useAuth][useAuth.ts?t=1742749304936] useAuth hook called {component: 'useAuth', isAuthenticated: '[REDACTED]', isLoading: false, path: '/login'}
logger.ts:127 [useAuth][useAuth.ts?t=1742749304936] useAuth hook called {component: 'useAuth', isAuthenticated: '[REDACTED]', isLoading: false, path: '/login'}
logger.ts:127 [LoginPage][LoginPage.tsx?t=1742749304936] Auth state changed in LoginPage {component: 'LoginPage', hookIsAuthenticated: '[REDACTED]', reduxIsAuthenticated: '[REDACTED]', reduxIsInitialized: true, reduxUser: 'null', …}
logger.ts:127 [LoginPage][LoginPage.tsx?t=1742749304936] Direct auth service state check {component: 'LoginPage', serviceIsAuthenticated: '[REDACTED]', serviceHasUser: false, serviceUserRole: undefined}
logger.ts:127 [TokenService.ts?t=1742749304936] All TokenService resources cleaned up {}
logger.ts:127 [AuthService.ts?t=1742749304936] Auth state updated {isAuthenticated: '[REDACTED]'}
logger.ts:127 [TokenService.ts?t=1742749304936] All TokenService resources cleaned up {}
logger.ts:127 [AuthService.ts?t=1742749304936] Auth state updated {isAuthenticated: '[REDACTED]'}
logger.ts:127 [useAuth][useAuth.ts?t=1742749304936] useAuth hook called {component: 'useAuth', isAuthenticated: '[REDACTED]', isLoading: false, path: '/login'}
logger.ts:137 [LoginPage][LoginPage.tsx?t=1742749304936] LoginPage rendered with detailed auth state {component: 'LoginPage', hookIsAuthenticated: '[REDACTED]', reduxIsAuthenticated: '[REDACTED]', reduxIsInitialized: true, reduxUser: 'null', …}
logger.ts:127 [useAuth][useAuth.ts?t=1742749304936] useAuth hook called {component: 'useAuth', isAuthenticated: '[REDACTED]', isLoading: false, path: '/login'}
logger.ts:137 [LoginPage][LoginPage.tsx?t=1742749304936] LoginPage rendered with detailed auth state {component: 'LoginPage', hookIsAuthenticated: '[REDACTED]', reduxIsAuthenticated: '[REDACTED]', reduxIsInitialized: true, reduxUser: 'null', …}
