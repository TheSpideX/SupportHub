<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="icon" type="image/png" href="/favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#6366f1" />
    <meta
      name="description"
      content="Support Hub - Customer Support Management Platform"
    />
    <title>Support Hub</title>
  </head>
  <body>
    <div id="root"></div>
    <!-- Load Primus client library from backend -->
    <script src="http://localhost:4290/primus/primus.js"></script>
    <!-- Fallback in case the above fails -->
    <script>
      // Check if Primus loaded correctly
      window.addEventListener("load", function () {
        if (!window.Primus) {
          console.error(
            "Primus client library failed to load. Attempting to load again..."
          );
          // Create a script element
          var script = document.createElement("script");
          script.src = "http://localhost:4290/primus/primus.js";
          script.onerror = function () {
            console.error("Failed to load Primus client library again.");
          };
          script.onload = function () {
            console.log(
              "Primus client library loaded successfully on second attempt."
            );
          };
          document.head.appendChild(script);
        } else {
          console.log("Primus client library loaded successfully.");
        }
      });
    </script>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
