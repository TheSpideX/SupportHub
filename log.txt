# Technical Support CRM Portal Architecture

## Logical View
```mermaid
graph TD
    %% Main Components
    subgraph "User Interfaces"
        UI[Role-Based Dashboards]
    end
    
    subgraph "Core Modules"
        Core[Core Functionality]
    end
    
    subgraph "Services Layer"
        Services[Business Services]
    end
    
    subgraph "Data Access Layer"
        DataAccess[Data Repositories]
    end
    
    subgraph "External Integrations"
        Integrations[Third-Party Services]
    end
    
    %% High-level connections
    UI --> Core
    Core --> Services
    Services --> DataAccess
    Services --> Integrations
    
    %% Detailed components with cleaner layout
    subgraph "UI Details"
        UI --> CustomerUI[Customer]
        UI --> SupportUI[Support Team]
        UI --> TechUI[Technical Team]
        UI --> LeadUI[Team Lead]
        UI --> AdminUI[Admin]
    end
    
    subgraph "Core Details"
        Core --> AuthModule[Authentication]
        Core --> TicketModule[Ticket Management]
        Core --> SLAModule[SLA Enforcement]
        Core --> NotificationModule[Notifications]
        Core --> TeamModule[Team Management]
        Core --> ReportingModule[Reporting]
    end
    
    subgraph "Services Details"
        Services --> AuthService[Auth Service]
        Services --> TicketService[Ticket Service]
        Services --> NotificationService[Notification Service]
        Services --> TeamService[Team Service]
        Services --> SLAService[SLA Service]
    end
    
    subgraph "Data Details"
        DataAccess --> UserRepo[User Data]
        DataAccess --> TicketRepo[Ticket Data]
        DataAccess --> TeamRepo[Team Data]
        DataAccess --> AuditRepo[Audit Logs]
    end
    
    subgraph "Integration Details"
        Integrations --> GitHubInt[GitHub]
        Integrations --> SlackInt[Slack]
    end
```

## Physical View
```mermaid
flowchart TD
    %% Main Components with simplified connections
    Client[Client Side] --> Server[Server Side]
    Server --> Storage[Data Storage]
    Server --> Deploy[Deployment]
    
    %% Client Side Details
    subgraph "Client Details"
        Client --> Browser[Web Browser]
        Browser --> Frontend[React Frontend]
        Frontend --> UI[UI Components]
        Frontend --> ClientState[State Management]
        Frontend --> RealTime[Real-time Updates]
    end
    
    %% Server Side Details
    subgraph "Server Details"
        Server --> AppServer[Application Server]
        Server --> WSServer[WebSocket Server]
        Server --> TaskQueue[Task Processing]
        
        AppServer --> NodeJS[Node.js + Express]
        AppServer --> API[REST API Layer]
        AppServer --> CoreServices[Core Services]
        AppServer --> Security[Security Components]
        
        WSServer --> SocketIO[Socket.io]
        
        TaskQueue --> BullMQ[BullMQ]
    end
    
    %% Data Storage Details
    subgraph "Storage Details"
        Storage --> MongoDB[MongoDB]
        Storage --> Redis[Redis]
        
        MongoDB --> Collections[Data Collections]
        Redis --> Caching[Caching]
        Redis --> Sessions[Sessions]
        Redis --> Queues[Message Queues]
    end
    
    %% Deployment Details
    subgraph "Deployment Details"
        Deploy --> Docker[Docker]
        Deploy --> PM2[PM2]
        Deploy --> Nginx[Nginx]
        Deploy --> Cloud[Render Cloud]
    end
    
    %% Key Security Components
    Security --> HTTPCookies[HTTP-Only Cookies]
    Security --> JWTAuth[JWT Auth]
    Security --> CSRF[CSRF Protection]
    Security --> RateLimiter[Rate Limiting]
```
